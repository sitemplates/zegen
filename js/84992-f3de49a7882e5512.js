"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[84992],{584992:function(n,t,a){a.d(t,{Z:function(){return R}});var e=a(76911),r=a(425288),i=a(198462),o=a(729524),s=a(860273),p=a(169213),c=a(358864),u=a(558775),m=a(505771),d=a(985271),l=a(383434),b=a(543059),y=a(453821),f=a(638089),v=a(607150),g=a(790348);function T(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var a=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==a)return;var e,r,i=[],o=!0,s=!1;try{for(a=a.call(n);!(o=(e=a.next()).done)&&(i.push(e.value),!t||i.length!==t);o=!0);}catch(p){s=!0,r=p}finally{try{o||null==a.return||a.return()}finally{if(s)throw r}}return i}(n,t)||h(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(n){return function(n){if(Array.isArray(n))return I(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||h(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(n,t){if(n){if("string"==typeof n)return I(n,t);var a=Object.prototype.toString.call(n).slice(8,-1);return"Object"===a&&n.constructor&&(a=n.constructor.name),"Map"===a||"Set"===a?Array.from(n):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?I(n,t):void 0}}function I(n,t){(null==t||t>n.length)&&(t=n.length);for(var a=0,e=new Array(t);a<t;a++)e[a]=n[a];return e}function w(n,t){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.push.apply(a,e)}return a}function N(n){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){S(n,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(a,t))}))}return n}function S(n,t,a){return t in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}var C=(0,l.XV)("PwtStopwatch"),O=function(n,t){if(d.Z){if("start"===t.type&&!n.isTiming){var a=t.name,e=t.startTime,r=t.navigationType;return(0,g.A9)("TIMING.".concat(a)),{isTiming:!0,name:a,isSampled:t.isSampled,startTime:"number"==typeof e?e:d.Z.now(),metricId:{type:"stopwatch",name:a,navigationType:r},pwtStaticContext:t.pwtStaticContext,annotations:n.annotations,binaryAnnotations:n.binaryAnnotations,spans:n.spans,traceId:n.traceId,spanNameUpdates:n.spanNameUpdates}}if(!n.isTiming){if(!t.bypassIsTimingCheck){var i=t.name||n.name;return C("ignoring action - stopwatch is not actively timing",t),(0,g.A9)("WARN.".concat(i,".noTiming.").concat(t.type)),n}C("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t)}if("annotate"===t.type){var p=d.Z.now();return C("adding annotation {".concat(t.label,": ").concat(p,"}")),N(N({},n),{},{annotations:n.annotations.concat([{label:t.label,timestamp:p}])})}if("binaryAnnotate"===t.type)return C("adding binary annotation {".concat(t.name,": ").concat(String(t.value),"}")),N(N({},n),{},{binaryAnnotations:N(N({},n.binaryAnnotations),S({},t.name,{value:t.value,type:t.annotationType}))});if("binaryAnnotateOperation"===t.type){var l=t.binaryAnnotationValueAndType,T=l.value,h=l.type;if(n.binaryAnnotations[t.name]){var I=n.binaryAnnotations[t.name].value||0;return C("operating on binary annotation {\n          name: ".concat(t.name,"\n          pervious value: ").concat(String(I),"\n          operand: ").concat(String(T),"\n        }")),N(N({},n),{},{binaryAnnotations:N(N({},n.binaryAnnotations),S({},t.name,{value:T?t.operation(I,T):I,type:h}))})}return N(N({},n),{},{binaryAnnotations:N(N({},n.binaryAnnotations),S({},t.name,{value:T,type:h}))})}if("addSubspan"===t.type){C("adding subspan {".concat(t.name,"}")),-1!==n.spans.findIndex((function(n){return n.name===t.name}))&&C("WARNING: adding duplicate subspan name {".concat(t.name,"}"));var w=t.id||(0,c.Z)();-1!==n.spans.findIndex((function(n){return n.id===w}))&&C("WARNING: adding duplicate subspan id {".concat(t.name,": ").concat(w,"}"));var O=0;return t.startTime?O=t.startTime:n.startTime?O=n.startTime:C("WARNING: adding subspan {".concat(t.name,"} without start time")),N(N({},n),{},{spans:[].concat(A(n.spans),[{name:t.name,id:w,startTime:O,endTime:t.endTime||1/0,annotationMap:N({},t.annotations),binaryAnnotationMap:N({},t.binaryAnnotations),parentId:t.parentId}])})}if("subspanStart"===t.type){var k;C("starting subspan {".concat(t.name,"}")),-1!==n.spans.findIndex((function(n){return n.name===t.name}))&&C("WARNING: starting duplicate subspan name {".concat(t.name,"}"));var _=t.id||(0,c.Z)();-1!==n.spans.findIndex((function(n){return n.id===_}))&&C("WARNING: starting duplicate subspan id {".concat(t.name,": ").concat(_,"}"));var R=t.parentName?null===(k=n.spans.find((function(n){return n.name===t.parentName})))||void 0===k?void 0:k.id:null;return N(N({},n),{},{spans:[].concat(A(n.spans),[{name:t.name,id:_,parentId:t.parentId||R,startTime:d.Z.now(),endTime:1/0,annotationMap:N({},t.annotations),binaryAnnotationMap:N({},t.binaryAnnotations)}])})}if("subspanStop"===t.type){if(C("stopping subspan {".concat(t.name,"}")),!t.id)n.spans.reduce((function(n,a){return a.name===t.name&&n.push(a),n}),[]).length>1&&(0,g.H)("duplicate_subspan_stop_name",{name:t.name,type:t.type});var P=t.id?n.spans.findIndex((function(n){return n.id===t.id})):n.spans.findIndex((function(n){return n.name===t.name}));return P>-1?(n.spans[P].endTime=d.Z.now(),t.annotations&&(n.spans[P].annotationMap=N(N({},n.spans[P].annotationMap),t.annotations)),t.binaryAnnotations&&(n.spans[P].binaryAnnotationMap=N(N({},n.spans[P].binaryAnnotationMap),t.binaryAnnotations))):(0,g.H)("invalid_subspan_stop_name",{name:t.name}),n}if("subspanUpdateName"===t.type){n.spans.reduce((function(n,a){return a.name===t.currentName&&n.push(a),n}),[]).length>1&&(0,g.H)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});var U=n.spans.findIndex((function(n){return n.name===t.currentName}));return U>-1?t.updateWhenStopwatchCompletes?n.spanNameUpdates=[].concat(A(n.spanNameUpdates),[{currentName:t.currentName,newName:t.newName}]):(C("renaming subspan {".concat(t.currentName,"} to {").concat(t.newName,"}")),n.spans[U].name=t.newName):(0,g.H)("no_subspan_found_to_rename",{name:t.currentName}),n}if("stop"===t.type&&n.isTiming){var Z=n.startTime,j=n.metricId,M=n.pwtStaticContext,x=n.annotations,W=n.binaryAnnotations,E=n.isSampled,D=n.spans,B=n.traceId;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),E){var H=t.stopTime||d.Z.now(),L=A(D.map((function(t){t.endTime===1/0&&(t.endTime=H);var a=n.spanNameUpdates.findIndex((function(n){return t.name===n.currentName}));return a>-1&&(C("renaming subspan {".concat(t.name,"} to {").concat(n.spanNameUpdates[a].newName,"}")),t.name=n.spanNameUpdates[a].newName,n.spanNameUpdates=n.spanNameUpdates.filter((function(n){return n.newName!==t.name}))),t})));if(t.manualAndResourceSpans||0===D.length){var G=(0,c.Z)();L.push.apply(L,[{name:"network_resources",id:G,startTime:Z,endTime:H,annotationMap:{},binaryAnnotationMap:{},parentId:null}].concat(A((t.customStopwatchBuffer||[]).map((function(n){return(0,m.Z)((0,y.p)(n,[]),G)})).filter(Boolean))))}var V="initial_app_load"===j.navigationType&&(0,s.Z)(),K={type:"COMPLETE",traceId:B,startTime:Z,endTime:H,spans:L,annotationMap:N(N(N({},(0,o.Z)(x)),(0,v.jh)("browser_",V?(0,v.D3)(V):{})),(0,v.jh)("mark_",(0,b.gQ)())),binaryAnnotationMap:(0,f.ng)({metricId:j,pwtStaticContext:M,binaryAnnotations:W,performanceResourceTimings:t.customStopwatchBuffer||[]})};(0,u.Z)({metricId:j,pwtStaticContext:M,result:K})}return{isTiming:!1,name:n.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,c.Z)(),spanNameUpdates:[]}}if("error"===t.type){var Q=t.error,X=t.stopwatchPerformanceObserver;return Q&&(0,g.H)(Q),X&&X.disconnect(),{isTiming:!1,name:n.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,c.Z)(),spanNameUpdates:[]}}if("abort"===t.type&&n.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();var $=n.metricId,q=n.pwtStaticContext,z=t.reason||"";return(0,u.Z)({metricId:$,pwtStaticContext:q,result:{type:"ABORT",reason:z}}),{isTiming:!1,name:n.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,c.Z)(),spanNameUpdates:[]}}}return n},k=function(n){var t=n.name,a=n.sampleRate,r=n.navigationType,o=n.manualAndResourceSpans,s=void 0!==o&&o,u=(0,i.N5)(),m=(0,e.useRef)([]),d=(0,e.useRef)(null),l=T((0,e.useReducer)(O,{isTiming:!1,name:t,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,c.Z)(),spanNameUpdates:[]}),2),b=l[0],y=l[1];return u?{isTiming:b.isTiming,start:function(n){if(window.PerformanceObserver){m.current=[],d.current=(0,p.Z)({entryTypes:["resource"]},(function(n){m.current=m.current.concat(n.getEntries()),m.current.length>1e3&&(m.current=m.current.slice(-1e3))}))}var e={type:"start",startTime:n,name:t,navigationType:r,pwtStaticContext:u,isSampled:!a||Math.random()<a};return y(e)},stop:function(n){return y({type:"stop",stopTime:n,stopwatchPerformanceObserver:d.current,customStopwatchBuffer:m.current,manualAndResourceSpans:s})},error:function(n){function t(t){return n.apply(this,arguments)}return t.toString=function(){return n.toString()},t}((function(n){y({type:"error",stopwatchPerformanceObserver:d.current,error:n})})),abort:function(n){return y({type:"abort",stopwatchPerformanceObserver:d.current,customStopwatchBuffer:m.current,reason:n})},annotate:function(n,t){return y({type:"annotate",label:n,parentId:t,bypassIsTimingCheck:arguments.length>2&&void 0!==arguments[2]&&arguments[2]})},binaryAnnotate:function(n,t,a,e){return y({type:"binaryAnnotate",name:n,value:t,annotationType:a,parentId:e,bypassIsTimingCheck:arguments.length>4&&void 0!==arguments[4]&&arguments[4]})},binaryAnnotateOperation:function(n){var t=n.name,a=n.binaryAnnotationValueAndType,e=n.operation,r=n.parentId,i=n.bypassIsTimingCheck;return y({type:"binaryAnnotateOperation",name:t,binaryAnnotationValueAndType:a,operation:e,parentId:r,bypassIsTimingCheck:void 0!==i&&i})},addSubspan:function(n){var t=n.name,a=n.startTime,e=n.endTime,r=n.annotations,i=void 0===r?{}:r,o=n.binaryAnnotations,s=void 0===o?{}:o,p=n.parentId,c=void 0===p?null:p,u=n.id,m=void 0===u?null:u,d=n.bypassIsTimingCheck;return y({type:"addSubspan",name:t,startTime:a,endTime:e,annotations:i,binaryAnnotations:s,parentId:c,id:m,bypassIsTimingCheck:void 0!==d&&d})},subspanStart:function(n){var t=n.name,a=n.annotations,e=void 0===a?{}:a,r=n.binaryAnnotations,i=void 0===r?{}:r,o=n.parentId,s=void 0===o?null:o,p=n.parentName,c=void 0===p?null:p,u=n.id,m=void 0===u?null:u,d=n.bypassIsTimingCheck;return y({type:"subspanStart",name:t,annotations:e,binaryAnnotations:i,parentId:s,parentName:c,id:m,bypassIsTimingCheck:void 0!==d&&d})},subspanStop:function(n){var t=n.name,a=n.annotations,e=n.binaryAnnotations,r=n.id,i=n.parentId,o=n.bypassIsTimingCheck;return y({type:"subspanStop",name:t,annotations:a,binaryAnnotations:e,id:r,parentId:i,bypassIsTimingCheck:void 0!==o&&o})},subspanUpdateName:function(n){var t=n.currentName,a=n.newName,e=n.bypassIsTimingCheck,r=n.updateWhenStopwatchCompletes;return y({type:"subspanUpdateName",currentName:t,newName:a,bypassIsTimingCheck:e,updateWhenStopwatchCompletes:void 0===r||r})},getSpans:function(n,t){return b.spans.filter((function(a){return a[n]===t}))},getTraceId:function(){return b.traceId}}:null},_=a(515198),R=function(n){var t=n.name,a=n.sampleRate,o=n.abortOnUnloadOrClientNavigation,s=void 0===o||o,p=n.navigationType,c=n.manualAndResourceSpans,u=void 0!==c&&c,m=(0,r.Z)("Stopwatch_".concat(t)),d=m.Provider;return{Provider:function(n){var r=n.children,o=k({name:t,sampleRate:a,navigationType:p,manualAndResourceSpans:u}),c=(0,i.fM)(),m=c?c.time:0,l=(0,e.useRef)(!1),b=null==o?void 0:o.isTiming,y=(0,e.useCallback)((function(n){l.current?(l.current=!1,null==o||o.abort(n)):(0,g.A9)("WARN.".concat(t,".noTiming.abort"))}),[o]),f=(0,e.useCallback)((function(n,t){null==o||o.annotate(n,t)}),[o]),v=(0,e.useCallback)((function(n,t,a,e){null==o||o.binaryAnnotate(n,t,a,e)}),[o]),T=(0,e.useCallback)((function(n){var t=n.name,a=n.binaryAnnotationValueAndType,e=n.operation,r=n.parentId,i=n.bypassIsTimingCheck;null==o||o.binaryAnnotateOperation({name:t,binaryAnnotationValueAndType:a,operation:e,parentId:r,bypassIsTimingCheck:i})}),[o]),A=(0,e.useCallback)((function(n){var t=n.name,a=n.startTime,e=n.endTime,r=n.annotations,i=n.binaryAnnotations,s=n.parentId,p=n.id,c=n.bypassIsTimingCheck;null==o||o.addSubspan({name:t,startTime:a,endTime:e,annotations:r,binaryAnnotations:i,parentId:s,id:p,bypassIsTimingCheck:c})}),[o]),h=(0,e.useCallback)((function(n){var t=n.name,a=n.annotations,e=n.binaryAnnotations,r=n.parentId,i=n.parentName,s=n.id,p=n.bypassIsTimingCheck;null==o||o.subspanStart({name:t,annotations:a,binaryAnnotations:e,parentId:r,parentName:i,id:s,bypassIsTimingCheck:p})}),[o]),I=(0,e.useCallback)((function(n){var t=n.name,a=n.annotations,e=n.binaryAnnotations,r=n.id,i=n.parentId,s=n.bypassIsTimingCheck;null==o||o.subspanStop({name:t,annotations:a,binaryAnnotations:e,id:r,parentId:i,bypassIsTimingCheck:s})}),[o]),w=(0,e.useCallback)((function(n){var t=n.currentName,a=n.newName,e=n.bypassIsTimingCheck,r=n.updateWhenStopwatchCompletes;null==o||o.subspanUpdateName({currentName:t,newName:a,bypassIsTimingCheck:e,updateWhenStopwatchCompletes:r})}),[o]),N=(0,e.useCallback)((function(n,t){return o?o.getSpans(n,t):[]}),[o]),S=(0,e.useCallback)((function(){return o?o.getTraceId():0}),[o]),C=(0,e.useCallback)((function(n){l.current?(l.current=!1,null==o||o.error(n)):(0,g.A9)("WARN.".concat(t,".noTiming.error"))}),[o]),O=(0,e.useCallback)((function(n){l.current&&(null==o||o.abort("duplicated_init_stopwatch_action")),l.current=!0,null==o||o.start(n)}),[o]),R=(0,e.useCallback)((function(n){l.current?(l.current=!1,null==o||o.stop(n)):(0,g.A9)("WARN.".concat(t,".noTiming.stop"))}),[o]);(0,e.useEffect)((function(){return function(){s&&y("unloadOrClientNavigation")}}),[m]);var P=(0,e.useMemo)((function(){return{isTiming:b,abort:y,addAnnotation:f,addBinaryAnnotation:v,binaryAnnotationOperation:T,addSubspan:A,subspanStart:h,subspanStop:I,getSpans:N,getTraceId:S,updateSubspanName:w,stop:R,error:C,start:O}}),[b,y,f,v,T,A,h,I,N,S,w,R,C,O]);return(0,_.jsx)(d,{value:P,children:r})},useHook:m.useMaybeHook}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/84992-f3de49a7882e5512.js.map